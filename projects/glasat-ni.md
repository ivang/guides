# Гласът ни

Онлайн платформа за дискусии на предложения от граждани. Основната разлика с подобни други инициативи е, че предложенията ще бъдат строго модерирани от експерти в съответните области, който също така поемат ангажимент да направят стъпки в имплементирането на най-добрите от тях.

## Връзки:

- [glasatni.bg](http://glasatni.bg/)
- [работно копие](http://promeni.herokuapp.com/)

## Описание

Платформата представлява малко или много one page app на angular с rails backend. CanCanCan е използвано за оторизация и Devise - за user management. Имаме и ActiveAdmin за контролния панел. Ако някой от тези gem-ове не ти е познат, може би трябва да видиш документацията им първо.

Базата е postgre.

Потребителя ще прекарва 98% от цялото време на две страници:

1. Списък с предложения. Напр. `/proposals`
2. Страница с конкретно предложение. Напр. `/proposals/12`

Поради това и 98% от функционалността се намира на тези страници. Останалите 2% ще прекарва на:

3. потребителския си профил. Напр. `/users/12`
4. началната страница. `/`
5. страницата на всяка тема. Напр. `/themes/1`
6. администраторския панел (за админите) `/admin`
7. настройки на профила/забравена парола/регистрация.

### Описание на всяка страница

1. Списъкът с предложения се сортира по: тема, подкрепа, дата и брой коментари и се филтрира по страница.
2. ...
...

Има 4 вида потребители.

1. Гости - могат да четат.
2. Регистрирани - могат да четат, пишат предложения и коментари, както и да си ги редактирати и трият, а също така могат и да гласуват.
3. Модератори - могат да четат, да пишат предложения и коментари, да гласуват, да одобряват, редактират и изтриват чужди предложения.
4. Администратор - може да дава права, да променя текста на теми... в общи линии всичко, което го има в админ панел-а...

## Обръщение от първия разработчик на платформата

(Знам, че никой няма да прочете това и поради това ще пиша каквото си поискам.)

Смел войнико,

Щом четеш тези слова, то ти най-вероятно си изправен пред тежко изпитание - да поддържаш или надграждаш кода на glasatni.bg.

Слагал съм коментари само там, където вярвам, че кодът се нуждае от тях, нека те бъдат твоята пътеводна светлина! Старал съм се кода да е максимално компактен, без да е нечетим. Опитвал съм се давам описателни имена на променливите, когато контекстът не е бил достатъчен. API-то даже е документирано. Angular контролерите са сравнително „тънки“.

Бог ми е свидетел, не съм си оставил ръцете, но и аз съм грешник. Най-голямото ми претеснение е свързано с имплементацията на API. Това си беше нов опит за мен и за разлика от друг път, нямах възможност да питам колеги за мнение. Изобщо, в тоя проект ми се наложи да взимам всички решения сам.

„Най-грозното“ нещо в платформата откъм код е, че частта с оторизацията (Devise) не минава през angular, ами се зареждат през rails-ките view-та. Ако искаш да подобриш нещо, най-добре започни от тук (Освен ако не е security vulnerability) за да стане платформата наистана "one page".

София, България
26.11.2014

## Основни дейности

### Текущи:

- табовете за листинга се чупят лошо под 1273px резолюция
- increase per_page

### Предстоящи:

- търсене по заглавие на предложението
- notification system
- статус на предложението
- messages system
- edit comments
- notifications
- page not found
- nested comments
- loading анимация при смяна на страницата
- google analytics
- complex hotness rating (reddit, hackernews)
- времето да се update-ва автоматично

## Участници

За въпроси се обръщайте към координатора на проекта.

- Петко Циков, координатор и разработчик

Хайде, хора, идвайте, ще е забавно.

## Организация

Аз съм самотен вълк. И пак ми е трудно да се организирам понякога...

## Партньори

Партньори и един вид „клиент“ са [БЦНП](http://bcnl.org). Този проект има скромно финансиране за първоначална изработка, който беше заплатен от тях. Също така те са идейния двигател на проекта. Имаме още доста партньори - eea grants, proinfo, offnews, capital foundation, ngo bg...



